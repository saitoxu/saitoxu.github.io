{"componentChunkName":"component---src-templates-blog-post-js","path":"/2017/04/appearin-sample","result":{"data":{"site":{"siteMetadata":{"title":"saitoxu.io","siteUrl":"https://saitoxu.io"}},"ogp":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAAjElEQVQoz82STQoDIQyF5/5HUVcuFNfeRdyIohvx7xWFllJm2llMaQOPhJiEj8QNF9v21YFjjIc/o+eeQ8LXgne2V7tLWGtFSgnWWhhjVhxjRM4Z3vul3vtnwvujcw6UUhBCoJQCYwxCCEgpobUG5xwhhPMDpy+lLIqpSdxaW4QzP+Pf7vDSK//dx74BXyBi+B0nsZEAAAAASUVORK5CYII=","width":1200,"height":630,"src":"/static/bb302f3ca7aabb14b0ae74df1c534526/e7e81/ogp.png","srcSet":"/static/bb302f3ca7aabb14b0ae74df1c534526/e7e81/ogp.png 1x"}}},"markdownRemark":{"id":"a79ee411-3c53-5fa3-a661-d08ea9b2888b","excerpt":"appear.inという手軽にビデオチャットができるサービスがあります。 最近、自分のサイトに簡単に埋め込める API があるのを知ったので、ちょっと使ってみました。 ドキュメントはこちら 1. サンプルアプリ チャットルームを生成して、そのルーム参加者とビデオチャットできるものを作りました。 appearin…","html":"<p><a href=\"https://appear.in/\">appear.in</a>という手軽にビデオチャットができるサービスがあります。</p>\n<p>最近、自分のサイトに簡単に埋め込める API があるのを知ったので、ちょっと使ってみました。</p>\n<p>ドキュメントは<a href=\"https://developer.appear.in/\">こちら</a></p>\n<h2><strong>1. サンプルアプリ</strong></h2>\n<p>チャットルームを生成して、そのルーム参加者とビデオチャットできるものを作りました。</p>\n<p><a href=\"/playground/appearin-sample\">appearin-sample</a></p>\n<p>使い方のイメージはこんな感じです。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e6ec8b589f3b23ed553951968a783dd0/98a9b/2017-04-05-image.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 45.52727272727273%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFBP/EABYBAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEAMQAAAB3RLkIaPLn//EABwQAAAGAwAAAAAAAAAAAAAAAAABAgMEERMxM//aAAgBAQABBQKbZM5VpST7lTuALX//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEv/aAAgBAwEBPwFL/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRAAAQIHAAAAAAAAAAAAAAAAABEhAQIQMTKBof/aAAgBAQAGPwJoo5nMpfpuv//EABsQAQACAgMAAAAAAAAAAAAAAAEAESExEHGx/9oACAEBAAE/IcmyqYagh1C5ulHj41T/2gAMAwEAAgADAAAAEEgv/8QAFhEAAwAAAAAAAAAAAAAAAAAAARAh/9oACAEDAQE/EDU//8QAFxEBAAMAAAAAAAAAAAAAAAAAAAEhUf/aAAgBAgEBPxCFY//EAB4QAQABAwUBAAAAAAAAAAAAAAEAESFxMVFhocHw/9oACAEBAAE/EEJ7A8iCTcXG+xQrneqfDmOpidaf/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Image\"\n        title=\"Image\"\n        src=\"/static/e6ec8b589f3b23ed553951968a783dd0/88218/2017-04-05-image.jpg\"\n        srcset=\"/static/e6ec8b589f3b23ed553951968a783dd0/7237a/2017-04-05-image.jpg 148w,\n/static/e6ec8b589f3b23ed553951968a783dd0/0cfdf/2017-04-05-image.jpg 295w,\n/static/e6ec8b589f3b23ed553951968a783dd0/88218/2017-04-05-image.jpg 590w,\n/static/e6ec8b589f3b23ed553951968a783dd0/77d57/2017-04-05-image.jpg 885w,\n/static/e6ec8b589f3b23ed553951968a783dd0/5a917/2017-04-05-image.jpg 1180w,\n/static/e6ec8b589f3b23ed553951968a783dd0/98a9b/2017-04-05-image.jpg 1375w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2><strong>2. 実装</strong></h2>\n<p>SDK は script タグで直接読み込むか、\nnpm モジュールとして公開されているのでそれを読み込むことで使えるようになります。</p>\n<p>基本的な使い方は、</p>\n<ol>\n<li><code>AppearIn</code>クラスのインスタンスを生成</li>\n<li>ブラウザがビデオチャットに対応しているか確認</li>\n<li>空いているビデオチャットルーム名を生成</li>\n<li>iframe に appear.in のビデオチャットを埋め込み</li>\n</ol>\n<p>となります。\n実際のコードだとこんな感じです ↓</p>\n<p><div id=\"gist46315985\" class=\"gist\">\n    <div class=\"gist-file\">\n      <div class=\"gist-data\">\n        <div class=\"js-gist-file-update-container js-task-list-container file-box\">\n  <div id=\"file-sample-js\" class=\"file\">\n    \n\n  <div itemprop=\"text\" class=\"Box-body p-0 blob-wrapper data type-javascript \">\n      \n<table class=\"highlight tab-size js-file-line-container\" data-tab-size=\"8\">\n      <tr>\n        <td id=\"file-sample-js-L1\" class=\"blob-num js-line-number\" data-line-number=\"1\"></td>\n        <td id=\"file-sample-js-LC1\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-c>// 1. AppearInクラスのインスタンスを生成</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L2\" class=\"blob-num js-line-number\" data-line-number=\"2\"></td>\n        <td id=\"file-sample-js-LC2\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-k>const</span> <span class=pl-s1>appearin</span> <span class=pl-c1>=</span> <span class=pl-k>new</span> <span class=pl-v>AppearIn</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L3\" class=\"blob-num js-line-number\" data-line-number=\"3\"></td>\n        <td id=\"file-sample-js-LC3\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L4\" class=\"blob-num js-line-number\" data-line-number=\"4\"></td>\n        <td id=\"file-sample-js-LC4\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-c>// 2. ブラウザがビデオチャットに対応しているか確認</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L5\" class=\"blob-num js-line-number\" data-line-number=\"5\"></td>\n        <td id=\"file-sample-js-LC5\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s1>appearin</span><span class=pl-kos>.</span><span class=pl-en>isWebRtcCompatible</span><span class=pl-kos>(</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L6\" class=\"blob-num js-line-number\" data-line-number=\"6\"></td>\n        <td id=\"file-sample-js-LC6\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L7\" class=\"blob-num js-line-number\" data-line-number=\"7\"></td>\n        <td id=\"file-sample-js-LC7\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-c>// 3. 空いているビデオチャットルーム名を生成</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L8\" class=\"blob-num js-line-number\" data-line-number=\"8\"></td>\n        <td id=\"file-sample-js-LC8\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s1>appearin</span><span class=pl-kos>.</span><span class=pl-en>getRandomRoomName</span><span class=pl-kos>(</span><span class=pl-kos>)</span><span class=pl-kos>.</span><span class=pl-en>then</span><span class=pl-kos>(</span><span class=pl-s1>roomName</span> <span class=pl-c1>=&gt;</span> <span class=pl-kos>{</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L9\" class=\"blob-num js-line-number\" data-line-number=\"9\"></td>\n        <td id=\"file-sample-js-LC9\" class=\"blob-code blob-code-inner js-file-line\">  <span class=pl-c>// do something</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L10\" class=\"blob-num js-line-number\" data-line-number=\"10\"></td>\n        <td id=\"file-sample-js-LC10\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-kos>}</span><span class=pl-kos>)</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L11\" class=\"blob-num js-line-number\" data-line-number=\"11\"></td>\n        <td id=\"file-sample-js-LC11\" class=\"blob-code blob-code-inner js-file-line\">\n</td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L12\" class=\"blob-num js-line-number\" data-line-number=\"12\"></td>\n        <td id=\"file-sample-js-LC12\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-c>// 4. iframeにappear.inのビデオチャットを埋め込み</span></td>\n      </tr>\n      <tr>\n        <td id=\"file-sample-js-L13\" class=\"blob-num js-line-number\" data-line-number=\"13\"></td>\n        <td id=\"file-sample-js-LC13\" class=\"blob-code blob-code-inner js-file-line\"><span class=pl-s1>appearin</span><span class=pl-kos>.</span><span class=pl-en>addRoomToElementById</span><span class=pl-kos>(</span><span class=pl-s>&quot;appearin-frame&quot;</span><span class=pl-kos>,</span> <span class=pl-s1>roomName</span><span class=pl-kos>)</span></td>\n      </tr>\n</table>\n\n\n  </div>\n\n  </div>\n</div>\n\n      </div>\n      <div class=\"gist-meta\">\n        <a href=\"https://gist.github.com/saitoxu/0e87c9824f1c5962fab800951d1b0e7e/raw/4fc49e9836ed037a4e7f9d803c8e20dbe0f2686f/sample.js\" style=\"float:right\">view raw</a>\n        <a href=\"https://gist.github.com/saitoxu/0e87c9824f1c5962fab800951d1b0e7e#file-sample-js\">sample.js</a>\n        hosted with &#10084; by <a href=\"https://github.com\">GitHub</a>\n      </div>\n    </div>\n</div></p>\n<p>また、サンプルアプリのコードは<a href=\"https://gist.github.com/saitoxu/0e87c9824f1c5962fab800951d1b0e7e\">こちら</a>に載せています。</p>\n<h2><strong>3. おわりに</strong></h2>\n<p>かなり簡単に使えたので、プライベートのサービスやプロトタイプを作るときなどに役立ちそうです。</p>","frontmatter":{"title":"appear.inのAPIを使って簡単ビデオチャット","date":"April 05, 2017","tags":["React","JavaScript"],"ogp":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABJ0lEQVQoz6WSQUuEQBTH/Yidgg5dOgUd6hxEhwhUCrp19qLWtcN2WpJFVPCSS2DgQQSppVYMU2fmjU5vdW077KHaH8Pwhpn33v+9NxLbAOnbosP6szNQJlgjoMGdAyxiUUo6aEdvL9NQunIGBkULT9VsWr08128FKfFSrAM60Fg6YxguRG7cjw+P7aOTq+vzi9eHvPiYPgae5/m+HwSBbdu4O46TpqllWWEYcs67zAQVi2ZPbbZOxbY62j2Qs8l7Nr81bxRVlWVZ13VFUQzD0DQtjmPTNF3XresaJUhYARMt3Nmwf9nunGWjSdYQjFiWZZIkURTleY7v8EgGoGvKj25jGZ8Vm82xBM4Wdyis7egVwsC6UaF49MF3ZDWsvs+/mvNGn+QffAHXIWb3IPy1HQAAAABJRU5ErkJggg==","width":1200,"height":630,"src":"/static/fa74910936970ca7cebaa9aa9aa644e6/e7e81/2017-04-05-ogp.png","srcSet":"/static/fa74910936970ca7cebaa9aa9aa644e6/e7e81/2017-04-05-ogp.png 1x"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2017/04/appearin-sample","previous":{"fields":{"slug":"/2017/04/react-todo-app-2"},"frontmatter":{"title":"TODOアプリでReact Routerを使ってみる","tags":["React","JavaScript"]}},"next":{"fields":{"slug":"/2017/04/react-on-rails"},"frontmatter":{"title":"React on Railsの環境構築手順","tags":["Rails","React"]}}}}}