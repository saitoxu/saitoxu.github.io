{"componentChunkName":"component---src-templates-blog-post-js","path":"/2018/01/prettier","result":{"data":{"site":{"siteMetadata":{"title":"saitoxu.io","siteUrl":"https://saitoxu.io"}},"ogp":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAAjElEQVQoz82STQoDIQyF5/5HUVcuFNfeRdyIohvx7xWFllJm2llMaQOPhJiEj8QNF9v21YFjjIc/o+eeQ8LXgne2V7tLWGtFSgnWWhhjVhxjRM4Z3vul3vtnwvujcw6UUhBCoJQCYwxCCEgpobUG5xwhhPMDpy+lLIqpSdxaW4QzP+Pf7vDSK//dx74BXyBi+B0nsZEAAAAASUVORK5CYII=","width":1200,"height":630,"src":"/static/bb302f3ca7aabb14b0ae74df1c534526/e7e81/ogp.png","srcSet":"/static/bb302f3ca7aabb14b0ae74df1c534526/e7e81/ogp.png 1x"}}},"markdownRemark":{"id":"63dddee2-bd0f-5779-9181-fc0f8ed0cf71","excerpt":"ESLint を使ってるプロジェクトに code formatter のPrettierを導入した。\n参考記事の寄せ集めに過ぎない感があるが、自分の備忘録ということでメモしておく。 やりたいこと Prettier を使ってコードを自動フォーマットしたい ESLint…","html":"<p>ESLint を使ってるプロジェクトに code formatter の<a href=\"https://github.com/prettier/prettier\">Prettier</a>を導入した。\n参考記事の寄せ集めに過ぎない感があるが、自分の備忘録ということでメモしておく。</p>\n<h2><strong>やりたいこと</strong></h2>\n<ul>\n<li>Prettier を使ってコードを自動フォーマットしたい</li>\n<li>ESLint を導入してるのでルールがかち合わないようにしたい</li>\n<li>エディタは Atom を使っていてうまく連携したい</li>\n</ul>\n<h2><strong>Prettier インストール</strong></h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> prettier --dev --exact\n$ <span class=\"token function\">yarn</span> <span class=\"token function\">add</span> eslint-plugin-prettier eslint-config-prettier --dev</code></pre></div>\n<p><a href=\"https://github.com/prettier/eslint-plugin-prettier\">eslint-plugin-prettier</a>は eslint 実行時に prettier も実行するプラグインで、\n<a href=\"https://github.com/prettier/eslint-config-prettier\">eslint-config-prettier</a>は不要・競合する可能性のある prettier のルールを無効化するもの。</p>\n<h2><strong>設定を書く</strong></h2>\n<p><code>.eslintrc</code>はこんな感じ。</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"extends\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"plugin:react/recommended\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"plugin:flowtype/recommended\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"prettier\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"prettier/react\"</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"env\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"browser\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"jest/globals\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"parser\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"babel-eslint\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">\"jest\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"prettier\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"flowtype\"</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"rules\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"prettier/prettier\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n      <span class=\"token string\">\"error\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        printWidth<span class=\"token operator\">:</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span>\n        trailingComma<span class=\"token operator\">:</span> none<span class=\"token punctuation\">,</span>\n        singleQuote<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        semi<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"no-mixed-operators\"</span><span class=\"token operator\">:</span> <span class=\"token number\">0</span>\n    <span class=\"token comment\">// ...</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ここまでで<code>yarn eslint src/app.js --fix</code>などとすると prettier が効くと思う。\n<code>no-mixed-operators</code>のルールは prettier といっしょに使うとちょっとコードを修正しないといけないので、面倒で off にしておいた。</p>\n<p>参考: <a href=\"https://github.com/prettier/eslint-config-prettier#no-mixed-operators\">https://github.com/prettier/eslint-config-prettier#no-mixed-operators</a></p>\n<h2><strong>Atom のパッケージインストール</strong></h2>\n<p><a href=\"https://github.com/prettier/prettier-atom\">prettier-atom</a>というパッケージがあるのでインストール。\n“Format Files on Save”という設定があるのでチェックを入れておくとファイル保存時に自動フォーマットされる。</p>\n<h2><strong>参考記事</strong></h2>\n<ul>\n<li><a href=\"https://prettier.io/\">Prettier · Opinionated Code Formatter</a></li>\n<li><a href=\"https://qiita.com/mizchi/items/f42c77c0a7a24dd5a567\">JS のコードの自動整形に Prettier が便利だったので、 eslint と Atom から使えるように設定した - Qiita</a></li>\n<li><a href=\"https://qiita.com/akameco/items/c4c92135a9d50727c7ed\">prettier 時代の ESLint の設定 - Qiita</a></li>\n</ul>","frontmatter":{"title":"ESLintを使ってるプロジェクトにPrettierを導入した","date":"January 31, 2018","tags":["JavaScript"],"ogp":{"childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAAy0lEQVQoz62SQQuCQBCF+wFlq0XRIaLUTCrbClEIKyPLrEthCh37///h5aILHurg0uExMI/9mLczNWW8wDfJugURr/bLKD9sGbnyHqsVgQzEYUSdoTGYoj6cQ+H9kl95wtEmgJNEcCMPHcuFYlDxyE3NQvC4wU4SpM+s7jxIOq0eOZcFolHsLyHery1O8R2qe4DMPF0QKGUTHsMY6fUM1fHRt/0ssuiW2cdntWcu0TUpyGSNtrkSOxu5gDEoKcQ3y2HVt8yh/zxsEX0Avzw5UqQPSscAAAAASUVORK5CYII=","width":1200,"height":630,"src":"/static/8b41b5682c8a4088c846f1a3a18e149a/e7e81/01-31-ogp.png","srcSet":"/static/8b41b5682c8a4088c846f1a3a18e149a/e7e81/01-31-ogp.png 1x"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2018/01/prettier","previous":{"fields":{"slug":"/2017/12/one-year-summary"},"frontmatter":{"title":"CTOになって1年経ったので雑に振り返ってみる","tags":["Daily","Startup"]}},"next":{"fields":{"slug":"/2018/02/recharts-intro"},"frontmatter":{"title":"Reactのグラフ描画ライブラリRechartsを使ってみた","tags":["JavaScript","React"]}}}}}